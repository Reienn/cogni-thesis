<div *ngIf="errorMsg" class="error-container"><div class="error-msg">
  <h2><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Błąd</h2>{{errorMsg}}
  <a mat-flat-button color="primary" href="/gameplay"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Powrót</a>
</div></div>

<div class="cases-wrapper" *ngIf="user && !errorMsg">
  <span class="back-icon"><i class="fa fa-arrow-circle-left" (click)="back()"></i></span>
  <h1 class="title">Witaj detektywie! Wybierz sprawę:</h1>
  <i *ngIf="loading" class="fa fa-spinner loading-icon"></i>
  <div class="case-list" [ngClass]="{'visibility-hidden': loading}">
    <mat-card *ngFor="let case of cases; let i = index" class="case-item" [ngClass]="{'disabled-case': case.id > currentCase + 1}">
      <img *ngIf="case.image" (load)="onImageLoad(i)" mat-card-image src="assets/img/scenes/{{case.image}}.png">
      <mat-card-title>{{i + 1}}. {{case.name}}</mat-card-title>
      <!-- <mat-card-content *ngIf="case.id <= currentCase">Najlepszy wynik: </mat-card-content> -->
      <mat-card-actions>
        <button mat-flat-button color="primary" [disabled]="case.id > currentCase + 1" (click)="selectCase(case.id)">
          <ng-container *ngIf="case.id > currentCase"><i class="fa fa-play" aria-hidden="true"></i> Zacznij</ng-container>
          <ng-container *ngIf="case.id <= currentCase"><i class="fa fa-repeat" aria-hidden="true"></i> Jeszcze raz</ng-container>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
